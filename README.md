<div align="center">
<img src="https://user-images.githubusercontent.com/83197138/235145795-a6e62810-0e0c-4ff4-bd87-7460b42825a7.png"/>

  <h2>ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ TEAM ë³´ëŒì‚¼ì¡°</h2>
  <b>ì¸í„´ì‹­ ê¸°ê°„ë™ì•ˆ ë³´ëŒì°¬ 3ì¡°ê°€ ë˜ì!</b>

</div>
  <br/>
<div align="center">
  
| Name    | <center>í™©ìˆ˜í˜„</center>|<center>ì´ì¤€í˜¸</center> |<center>ë°•ìˆ˜í˜„</center> |<center>ì´ìƒë¯¼</center> |<center>ìœ ë™í˜</center> |
| ------- | --------------------------------------------- | ------------------------------------ | --------------------------------------------- | --------------------------------------------- | --------------------------------------------- | 
| Profile | <center> <img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/107838130?v=4" /> </center>|<center><img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/86146780?v=4" /></center>|<center><img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/55135881?v=4" /></center>|<center><img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/83197138?v=4" /></center>|<center><img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/95751232?v=4" /></center>|
| GitHub | <center>[@rjsej12](https://github.com/rjsej12)</center> | <center>[@wujuno](https://github.com/wujuno) </center>| <center>[@pySoo](https://github.com/pySoo) </center>|<center>[@sangminlee98](https://github.com/sangminlee98)</center> |<center>[@robin14dev](https://github.com/robin14dev)</center> |
  
</div>

<div align="center">
  
| Name    | <center>ê°•ëª…ì£¼</center>|<center>ë°•ê²¸ì˜</center> |<center>ì •ì •ìˆ˜</center> |<center>ê³ ì˜ìš±</center> |<center>ì¶”í—Œì¬</center> |
| ------- | --------------------------------------------- | ------------------------------------ | --------------------------------------------- | --------------------------------------------- | --------------------------------------------- | 
| Profile | <center> <img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/96197310?v=4" /> </center>|<center><img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/91963656?v=4" /></center>|<center><img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/19286161?v=4" /></center>|<center><img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/47565280?v=4" /></center>|<center><img width="110px" height="110px" src="https://avatars.githubusercontent.com/u/67093357?v=4" /></center>|
| GitHub | <center>[@myungju030](https://github.com/myungju030)</center> | <center>[@seoltang](https://github.com/seoltang) </center>| <center>[@wjdwjdtn92](https://github.com/wjdwjdtn92) </center>|<center>[@free-ko](https://github.com/free-ko)</center> |<center>[@Chuhj](https://github.com/Chuhj)</center> |

</div>

<br/>

# ì›í‹°ë“œ **í”„ë¦¬ì˜¨ë³´ë”© í”„ë¡ íŠ¸ì—”ë“œ ì¸í„´ì‹­ 4ì£¼ì°¨ ê³¼ì œ**

> ê³¼ì œ ì½”ë“œ ë¦¬íŒ©í† ë§ + ì¶”ì²œ ê²€ìƒ‰ì°½ êµ¬í˜„ + ë¬´í•œ ìŠ¤í¬ë¡¤

ì§„í–‰ ê¸°ê°„: 2023-05-14 ~ 2023-05-17

## ëª©ì°¨

- [ì›í‹°ë“œ **í”„ë¦¬ì˜¨ë³´ë”© í”„ë¡ íŠ¸ì—”ë“œ ì¸í„´ì‹­ 4ì£¼ì°¨ ê³¼ì œ**](#ì›í‹°ë“œ-í”„ë¦¬ì˜¨ë³´ë”©-í”„ë¡ íŠ¸ì—”ë“œ-ì¸í„´ì‹­-4ì£¼ì°¨-ê³¼ì œ)
  - [ëª©ì°¨](#ëª©ì°¨)
  - [ë°°í¬ ë§í¬](#ë°°í¬-ë§í¬)
  - [ë™ì‘ í™”ë©´](#ë™ì‘-í™”ë©´)
  - [ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬](#ì‚¬ìš©í•œ-ë¼ì´ë¸ŒëŸ¬ë¦¬)
  - [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
  - [í”„ë¡œì íŠ¸ ì‹¤í–‰ ë°©ë²•](#í”„ë¡œì íŠ¸-ì‹¤í–‰-ë°©ë²•)
  - [ê³¼ì œ ìˆ˜í–‰ ë‚´ìš©](#ê³¼ì œ-ìˆ˜í–‰-ë‚´ìš©)
    - [Overview](#overview)
    - [API ìš”ì²­ íšŸìˆ˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ Debounce ì ìš©](#api-ìš”ì²­-íšŸìˆ˜ë¥¼-ì¤„ì´ê¸°-ìœ„í•´-debounce-ì ìš©)
      - [ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ì¤„ì´ê¸°](#ë„¤íŠ¸ì›Œí¬-ë¹„ìš©-ì¤„ì´ê¸°)
      - [ìœ ì§€ ë³´ìˆ˜ë¥¼ ìœ„í•œ ì»¤ìŠ¤í…€ í›… ìƒì„±](#ìœ ì§€-ë³´ìˆ˜ë¥¼-ìœ„í•œ-ì»¤ìŠ¤í…€-í›…-ìƒì„±)
    - [useSearch hookì„ í†µí•œ ë°ì´í„° í˜ì¹­ êµ¬í˜„](#usesearch-hookì„-í†µí•œ-ë°ì´í„°-í˜ì¹­-êµ¬í˜„)
    - [ê²€ìƒ‰ì–´ ë“œë¡­ë‹¤ìš´](#ê²€ìƒ‰ì–´-ë“œë¡­ë‹¤ìš´)
      - [ê²€ìƒ‰ í‚¤ì›Œë“œ ìƒ‰ìƒ í™œì„±í™”](#ê²€ìƒ‰-í‚¤ì›Œë“œ-ìƒ‰ìƒ-í™œì„±í™”)
      - [ê²€ìƒ‰ì–´ ë³€ê²½ ì‹œ ë“œë¡­ë‹¤ìš´ ìœ ì§€](#ê²€ìƒ‰ì–´-ë³€ê²½-ì‹œ-ë“œë¡­ë‹¤ìš´-ìœ ì§€)
      - [ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì´ˆê¸°í™”](#ìŠ¤í¬ë¡¤-ìœ„ì¹˜-ì´ˆê¸°í™”)
      - [ë“œë¡­ë‹¤ìš´ í† ê¸€ êµ¬í˜„](#ë“œë¡­ë‹¤ìš´-í† ê¸€-êµ¬í˜„)
    - [ë¬´í•œ ìŠ¤í¬ë¡¤](#ë¬´í•œ-ìŠ¤í¬ë¡¤)
      - [1. í˜¸ì¶œ íŠ¸ë¦¬ê±°](#1-í˜¸ì¶œ-íŠ¸ë¦¬ê±°)
      - [2. useIntersectionObserver hook](#2-useintersectionobserver-hook)
      - [3. í˜¸ì¶œ ì œí•œ](#3-í˜¸ì¶œ-ì œí•œ)
    - [Jestë¥¼ ì´ìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸](#jestë¥¼-ì´ìš©í•œ-ë‹¨ìœ„-í…ŒìŠ¤íŠ¸)
      - [InputTodo ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸](#inputtodo-ì»´í¬ë„ŒíŠ¸-í…ŒìŠ¤íŠ¸)
      - [Dropdown ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸](#dropdown-ì»´í¬ë„ŒíŠ¸-í…ŒìŠ¤íŠ¸)

<br/>

## ë°°í¬ ë§í¬

https://pre-onboarding-10th-4-3.netlify.app/

<br/>

## ë™ì‘ í™”ë©´

![demo](https://github.com/WANTED-TEAM03/pre-onboarding-10th-4-3/assets/83197138/1c0f0ab0-a5fc-4d5e-b602-b1d7fc009618)

<br/>

## ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

<div align =center>

|     Area     |                                                                                                                                                                                                                                                                                                                                                                                                                                           Tech Stack                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| :----------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| **Frontend** | <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black"> <img src="https://img.shields.io/badge/TypeScript-3178C6.svg?style=for-the-badge&logo=TypeScript&logoColor=black"> <img src="https://img.shields.io/badge/Css-1572B6.svg?style=for-the-badge&logo=CSS3&logoColor=black"> <img src="https://img.shields.io/badge/Axios-5A29E4.svg?&style=for-the-badge&logo=axios&logoColor=white"> <img src="https://img.shields.io/badge/JEST-C21325?&style=for-the-badge&logo=Jest&logoColor=white"> <img src="https://img.shields.io/badge/React Testing Library-E33332?&style=for-the-badge&logo=Testing Library&logoColor=white"> <img src="https://img.shields.io/badge/ESLINT-4B32C3?&style=for-the-badge&logo=ESLint&logoColor=white"> <img src="https://img.shields.io/badge/PRETTIER-F7B93E?&style=for-the-badge&logo=Prettier&logoColor=white"> |

</div>

<br/>

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ğŸ“¦src
â”œâ”€â”€ ğŸ“‚__mocks__
â”œâ”€â”€ ğŸ“‚__tests__
â”œâ”€â”€ ğŸ“‚api
â”œâ”€â”€ ğŸ“‚components
â”‚   â””â”€â”€ ğŸ“‚Dropdown
|   â””â”€â”€ ğŸ“‚DropdownItem
|   â””â”€â”€ ğŸ“‚Header
|   â””â”€â”€ ğŸ“‚InputTodo
|   â””â”€â”€ ğŸ“‚TodoItem
|   â””â”€â”€ ğŸ“‚TodoList
|   â””â”€â”€ ğŸ“‚shared
â”‚       â”œâ”€â”€ ğŸ“‚LoadingSpinner
â”‚       â”œâ”€â”€ ğŸ“‚PlusButton
â”‚       â””â”€â”€ ğŸ“‚TrashButton
â”œâ”€â”€ ğŸ“‚constants
â”œâ”€â”€ ğŸ“‚hooks
â”œâ”€â”€ ğŸ“‚pages
â”œâ”€â”€ ğŸ“‚types
â””â”€â”€ ğŸ“‚utils
```

<br/>

## í”„ë¡œì íŠ¸ ì‹¤í–‰ ë°©ë²•

ë ˆíŒŒì§€í† ë¦¬ í´ë¡ 

```bash
$ git clone https://github.com/WANTED-TEAM03/pre-onboarding-10th-4-3.git
```

íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
$ yarn
```

í™˜ê²½ ë³€ìˆ˜ ì…ë ¥

```
// .env

REACT_APP_API_URL=
REACT_APP_TOKEN=
```

ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

```bash
$ yarn start
```

í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
$ yarn test
```

<br/>

## ê³¼ì œ ìˆ˜í–‰ ë‚´ìš©

### Overview

- **ê¸°ì¡´ ì½”ë“œ ë¦¬íŒ©í† ë§**

  - ê¸°ì¡´ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ `íƒ€ì…ìŠ¤í¬ë¦½íŠ¸`ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í–ˆìŠµë‹ˆë‹¤.
  - ê¸°ì¡´ ì½”ë“œë“¤ì˜ íƒ€ì…ì„ ì •ì˜í•˜ê³  ë³€ìˆ˜ë“¤ì„ ìƒìˆ˜í™”í•˜ì—¬ constants í´ë”ì—ì„œ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.
  - `CSS ëª¨ë“ˆí™”`ë¥¼ ì ìš©í•˜ì—¬ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³  side effect ë°œìƒ í™•ë¥ ì„ ì¤„ì˜€ìŠµë‹ˆë‹¤.
  - ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” Spinnerì™€ Buttonì„ ë¶„ë¦¬í•˜ì—¬ `ì¬ì‚¬ìš©ì„±`ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

- **ì¶”ì²œ ê²€ìƒ‰ì°½ êµ¬í˜„**

  - `debounce`ì„ í†µí•´ APIì˜ í˜¸ì¶œì„ ì¤„ì˜€ìŠµë‹ˆë‹¤.
  - `useSearch` hookì„ ì´ìš©í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ UI ì»´í¬ë„ŒíŠ¸ì™€ ë¶„ë¦¬í•˜ê³  ë°ì´í„° í˜ì¹­ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

- **ê²€ìƒ‰ì–´ ë“œë¡­ë‹¤ìš´ êµ¬í˜„**

  - ë‹¨ì–´ê°€ `í‚¤ì›Œë“œ`ì™€ ë™ì¼í•œ ê²½ìš° ìƒ‰ìƒìœ¼ë¡œ `í™œì„±í™”` ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
  - ë“œë¡­ë‹¤ìš´ ì•„ì´í…œ í´ë¦­ ì‹œ `Todo ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€`ë˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
  - `useToggleModal` hookì„ ì´ìš©í•˜ì—¬ ë“œë¡­ë‹¤ìš´ í† ê¸€ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

- **ë¬´í•œ ìŠ¤í¬ë¡¤**

  - Web APIì˜ `IntersectionObserver`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆì§€ë§‰ ì•„ì´í…œì´ ê°ì§€ë˜ë©´ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
  - ê²€ìƒ‰ ê²°ê³¼ë¥¼ ìµœëŒ€ 10ê°œì”© ë°›ì•„ì˜¬ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

- **jestë¥¼ ì´ìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**
  - `<InputTodo>`, `<Dropdown>` ì»´í¬ë„ŒíŠ¸ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ ì£¼ìš” ê¸°ëŠ¥ ë° ì´ë²¤íŠ¸ ë°œìƒì— ë”°ë¥¸ ë¡œì§ì„ í…ŒìŠ¤íŠ¸í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤.

<br />

### API ìš”ì²­ íšŸìˆ˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ Debounce ì ìš©

- ì´ë²¤íŠ¸ë¥¼ ê·¸ë£¹í™”í•˜ì—¬ íŠ¹ì • ì‹œê°„ì´ ì§€ë‚œ í›„ í•˜ë‚˜ì˜ ì´ë²¤íŠ¸ë§Œ ë°œìƒí•˜ë„ë¡ í•˜ëŠ” **Debounce** ê¸°ìˆ ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

#### ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ì¤„ì´ê¸°

1. ì¼ì • ì‹œê°„ ë™ì•ˆ ê²€ìƒ‰ì–´ë¥¼ ëª¨ì€ `debouncedInputText`ë¥¼ search APIë¥¼ í˜¸ì¶œí•˜ëŠ” `useSearch` hookì— ì „ë‹¬í•©ë‹ˆë‹¤.

   ```ts
   // src/components/InputTodo/index.tsx

   const [inputText, setInputText] = useState('');
   ...
   const debouncedInputText = useDebounce(inputText);

   const { recommendList } = useSearch(debouncedInputText);
   ```

2. `delay` ì‹œê°„ì„ 500msë¡œ ì„¸íŒ…í•˜ê³ , ë§ˆì§€ë§‰ ìš”ì²­ ì´í›„ APIë¥¼ í•œ ë²ˆë§Œ í˜¸ì¶œí•˜ë„ë¡ `debounce`ë¥¼ ì ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ë¹„ìš©ì„ ì¤„ì´ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

   ```ts
   // src/hooks/useSearch.ts

   useEffect(() => {
      const fetchAutocompleteWords = async () => {
        try {
          const response = await getSearchedList();
        }
        ...
      };
      fetchAutocompleteWords();
   }, [inputText]);
   ```

#### ìœ ì§€ ë³´ìˆ˜ë¥¼ ìœ„í•œ ì»¤ìŠ¤í…€ í›… ìƒì„±

- ë””ë°”ìš´ìŠ¤ ì‘ì—…ì˜ ìœ ì§€ ë³´ìˆ˜ê°€ ìš©ì´í•˜ë„ë¡ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.
- ì¶”í›„ ì¬ì‚¬ìš©ì„ ê³ ë ¤í•´ valueì˜ íƒ€ì…ì„ generic `<T>` ë¡œ ì„ ì–¸í–ˆìŠµë‹ˆë‹¤.

  ```ts
  // src/hooks/useDebounce.ts

  export default function useDebounce<T>(value: T, delay = 500) {
    const [debouncedValue, setDebouncedValue] = useState(value);

    useEffect(() => {
      const timerId = setTimeout(() => {
        setDebouncedValue(value);
      }, delay);

      return () => {
        clearTimeout(timerId);
      };
    }, [value, delay]);

    return debouncedValue;
  }
  ```

### useSearch hookì„ í†µí•œ ë°ì´í„° í˜ì¹­ êµ¬í˜„

- ì¶”ì²œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ ëª¨ë“ˆí™”ì˜ í•„ìš”ì„±ì„ ëŠê¼ˆìŠµë‹ˆë‹¤.
- `ê²€ìƒ‰ê³¼ ê´€ë ¨ëœ ìƒíƒœ`ë“¤ê³¼ ê²€ìƒ‰ì–´ ë³€ê²½ ì‹œì— ìŠ¤í¬ë¡¤ì„ ë³€ê²½í•˜ê³  ë°ì´í„°ë¥¼ ì´ˆê¸°í™” í•˜ëŠ” `ì´ˆê¸°í™” í•¨ìˆ˜`ë“¤ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
- debouncedëœ `inputText`ê°€ ë“¤ì–´ì™”ì„ ë•Œ, ë¹ˆ ê°’ì´ ì•„ë‹ˆë¼ë©´ APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

```ts
// src/hooks/useSearch.ts

const useSearch = (inputText: string) => {
  ...
  const scrollToTop = () => {
    scrollRef.current?.scrollTo(0, 0);
  };

  const getMoreItem = async () => {
    ...
  };

  useEffect(() => {
    ...
    fetchAutocompleteWords();
  }, [inputText]);

  return {
    isSearching,
    recommendList,
    hasNextPage,
    isFirstSearch,
    scrollRef,
    getMoreItem,
  };
};

export default useSearch;
```

<br />

### ê²€ìƒ‰ì–´ ë“œë¡­ë‹¤ìš´

#### ê²€ìƒ‰ í‚¤ì›Œë“œ ìƒ‰ìƒ í™œì„±í™”

- í•´ë‹¹ ì•„ì´í…œì— ê²€ìƒ‰í•œ í‚¤ì›Œë“œë¥¼ ë½‘ì•„ë‚´ëŠ” ìœ í‹¸ í•¨ìˆ˜ `splitTextWithKeyword` ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

  ```ts
  // src/utils/splitTextWithKeyword.ts

  export const splitTextWithKeyword = (text: string, keyword: string) => {
    const splitKey = '@#$%^';
    return text
      .replaceAll(keyword, `${splitKey}${keyword}${splitKey}`)
      .split(splitKey);
  };
  ```

- í•´ë‹¹ ìœ í‹¸í•¨ìˆ˜ë¥¼ í†µí•´, apië¥¼ í†µí•´ ë°›ì•„ì˜¨ ì•„ì´í…œë“¤ì´ ê²€ìƒ‰ í‚¤ì›Œë“œì™€ ë™ì¼í•œ ê²½ìš° ìŠ¤íƒ€ì¼ë§ì„ í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

  ```tsx
  // src/components/DropdownItem/index.tsx

  <li>
    {splitTextWithKeyword(searchWord, keyword).map((text, index) => (
      <span key={index} className={text === keyword ? styles.accent_text : ''}>
        {text}
      </span>
    ))}
  </li>
  ```

#### ê²€ìƒ‰ì–´ ë³€ê²½ ì‹œ ë“œë¡­ë‹¤ìš´ ìœ ì§€

- ê²€ìƒ‰ì–´ê°€ ë³€ê²½ì‹œ api ì‘ë‹µ ê²°ê³¼ë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ì„¤ì •í•˜ê³  ê²€ìƒ‰ì–´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³€ê²½í•˜ëŠ” `getMoreItem` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë“œë¡­ë‹¤ìš´ì´ ìœ ì§€ë  ìˆ˜ ìˆë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.

```ts
// src/hooks/useSearch.ts

const getMoreItem = async () => {
  if (!hasNextPage) return;

  setIsSearching(true);

  try {
    const trimmedText = inputText.trim().toLowerCase();
    const response = await getSearchedList(trimmedText, nextPage);
    const { limit, page, qty, total, result } = response;

    setRecommendList((prev) => [...prev, ...result]);

    if (limit * (page - DEFAULT_PAGE) + qty >= total) setHasNextPage(false);
    setNextPage((prev) => prev + 1);
  } catch (error) {
    console.error(error);
    alert('Something went wrong.');
  } finally {
    setIsSearching(false);
  }
};
```

#### ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì´ˆê¸°í™”

- ê²€ìƒ‰ì–´ ë¦¬ìŠ¤íŠ¸ê°€ ë³€ê²½ ë  ë•Œ ê¸°ì¡´ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ ìœ ì§€ë˜ëŠ” í˜„ìƒì´ ìˆì–´ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì´ˆê¸°í™” í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
- `useSearch` hookì—ì„œ returní•œ `scrollRef`ë¥¼ ë“œë¡­ë‹¤ìš´ì˜ refê°’ìœ¼ë¡œ ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.
- APIí˜¸ì¶œ ì‹œ `scrollToTop`ë¥¼ ì‹¤í–‰ í•´ ìŠ¤í¬ë¡¤ì„ ìµœìƒë‹¨ìœ¼ë¡œ ì˜®ê²¨ì£¼ì—ˆìŠµë‹ˆë‹¤.

```tsx
// src/components/Dropdown/index.tsx

<ul className={styles.dropdown} ref={scrollRef}>
  ~
</ul>
```

```ts
// src/hooks/useSearch.ts

const scrollRef = useRef<HTMLUListElement>(null);

const scrollToTop = () => {
  scrollRef.current?.scrollTo(0, 0);
};

useEffect(() => {
  const fetchAutocompleteWords = async () => {
    ~
    try {
      setIsSearching(true);

      const response = await getSearchedList(trimmedText);
      const { limit, page, qty, total, result } = response;

      if (limit * (page - DEFAULT_PAGE) + qty < total) setHasNextPage(true);
      scrollToTop();
      setRecommendList(result);
    }
    ~
  };

  fetchAutocompleteWords();
}, [inputText]);
```

#### ë“œë¡­ë‹¤ìš´ í† ê¸€ êµ¬í˜„

- `useToggleModal` hookì„ ì´ìš©í•˜ì—¬ ë“œë¡­ë‹¤ìš´ í† ê¸€ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- í† ê¸€í•  ìš”ì†Œë¥¼ ê°€ë¥´í‚¤ëŠ” `target`ê³¼ ëª¨ë‹¬ì´ í™œì„±í™”ëœ ìƒíƒœì¸ì§€ booleanê°’ì„ ë°˜í™˜í•˜ëŠ” `isModalOpen`ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
- `!target.contains(e.target as Node)`ì—ì„œ í˜„ì¬ í´ë¦­í•œ ìš”ì†Œê°€ í† ê¸€í•  ìš”ì†Œ(target)ì•ˆì— í¬í•¨ëœ ë…¸ë“œ ê°ì²´ì¸ì§€ í™•ì¸í•˜ì—¬ ëª¨ë‹¬ í† ê¸€ ìƒíƒœ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

```ts
// src/hooks/useToggleModal.ts

import { useEffect, useState } from 'react';

type ReturnType = {
  isModalOpen: boolean;
  setIsModalOpen: React.Dispatch<React.SetStateAction<boolean>>;
  setTarget: React.Dispatch<
    React.SetStateAction<HTMLElement | null | undefined>
  >;
};

const useToggleModal = (): ReturnType => {
  const [target, setTarget] = useState<HTMLElement | null | undefined>(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

  useEffect(() => {
    if (!target) return;

    const handleCloseModal = (e: Event | React.MouseEvent) => {
      if (isModalOpen && (!target || !target.contains(e.target as Node)))
        setIsModalOpen(false);
    };
    window.addEventListener('mousedown', handleCloseModal);
    return () => {
      window.removeEventListener('mousedown', handleCloseModal);
    };
  }, [target, isModalOpen]);

export default useToggleModal;

```

<br />

### ë¬´í•œ ìŠ¤í¬ë¡¤

- ë¬´í•œìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•˜ê¸°ìœ„í•´ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ê³¼ë„í•œ ì´ë²¤íŠ¸ì˜ í˜¸ì¶œë¡œ ì„±ëŠ¥ ì €í•˜ì˜ ìš°ë ¤ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
- ë”°ë¼ì„œ Intersection Observer APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì´ë²¤íŠ¸ ë°œìƒ ì—†ì´ ë¬´í•œìŠ¤í¬ë¡¤ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- IntersectionObserver APIë¥¼ ì‚¬ìš©í•˜ëŠ” ì»¤ìŠ¤í…€ hookì„ ì´ìš©í•˜ì—¬ 10ë²ˆì§¸ì¸ ë§ˆì§€ë§‰ ì•„ì´í…œì´ ê°ì§€ë˜ì—ˆì„ ë•Œ APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

#### 1. í˜¸ì¶œ íŠ¸ë¦¬ê±°

ìŠ¤í¬ë¡¤ì„ ê°ì§€í•˜ëŠ” ì˜ì—­ì„ `useIntersectionObserver` hookì„ ì´ìš©í•˜ì—¬ ì„¤ì •í•©ë‹ˆë‹¤. ë§Œì•½ ê²€ìƒ‰ ì¤‘ì´ ì•„ë‹ˆê³  ë§ˆì§€ë§‰ ì•„ì´í…œì„ ìŠ¤í¬ë¡¤ ì¤‘ì´ë¼ë©´ search APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

```ts
// src/components/DropDown.ts

const onIntersect: IntersectionObserverCallback = ([{ isIntersecting }]) => {
  if (isSearching) return;
  if (isIntersecting) getMoreItem();
};

const { setTarget } = useIntersectionObserver({ onIntersect });

return(
...
{!isSearching && hasNextPage && (
  <span
    className={`${styles.align_center} ${styles.ellipsis}`}
      ref={setTarget}
  >
    ...
  </span>
)}
)
```

#### 2. useIntersectionObserver hook

ì»¤ìŠ¤í…€ hookì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤ì„ ê°ì§€í•˜ëŠ” ì½”ë“œë¥¼ UI ì»´í¬ë„ŒíŠ¸ì™€ ë¶„ë¦¬í–ˆê³  optionsë¥¼ ì¸ìë¡œ ë°›ì•„ì„œ ì¬ì‚¬ìš©ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

```ts
// src/components/DropDown.ts

const useIntersectionObserver = ({
  root,
  rootMargin = '0px',
  threshold = 1,
  onIntersect,
}: useIntersectionObserverProps) => {
  const [target, setTarget] = useState<HTMLElement | null | undefined>(null);

  useEffect(() => {
    if (!target) return;

    const observer: IntersectionObserver = new IntersectionObserver(
      onIntersect,
      { root, rootMargin, threshold },
    );
    observer.observe(target);

    return () => observer.unobserve(target);
  }, [onIntersect, root, rootMargin, target, threshold]);

  return { setTarget };
};

export default useIntersectionObserver;
```

#### 3. í˜¸ì¶œ ì œí•œ

ì„œë²„ì—ì„œ ì „ë‹¬í•˜ëŠ” ë°ì´í„° total ê°œìˆ˜ì™€ í˜„ì¬ì˜ ë°ì´í„° ê°œìˆ˜ë¥¼ ë¹„êµí•˜ì—¬ ë” ì´ìƒ ë°›ì•„ì˜¬ ë°ì´í„°ê°€ ì—†ë‹¤ë©´ APIë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```ts
// src/hooks/useSearch.ts

const { limit, page, qty, total, result } = response;

if (limit * (page - DEFAULT_PAGE) + qty >= total) setHasNextPage(false);
```

```ts
// src/components/DropDown.ts

return(
  ...
  {!isSearching && hasNextPage && (
    <span
      className={`${styles.align_center} ${styles.ellipsis}`}
        ref={setTarget}
    >
      ...
    </span>
  )}
)
```

### Jestë¥¼ ì´ìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

#### InputTodo ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

- ê¸°ì¡´ì— ì‚¬ìš©ë˜ê³  ìˆë˜ `useFocus` ì»¤ìŠ¤í…€ í›…ì„ ëŒ€ì²´í•˜ì—¬ ì¶”ê°€í•œ `autoFocus` ì†ì„±ì„ ê²€ì¦í•˜ê¸° ìœ„í•´ ì²« ë Œë”ë§ ì‹œ ìë™ í¬ì»¤ìŠ¤ ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.

```ts
// src/__tests__/inputTodo.test.tsx

expect(screen.getByTestId('input-text')).toHaveFocus();
```

- inputì— ì…ë ¥ëœ ì…ë ¥ê°’ì„ ì¸ìë¡œ í•˜ëŠ” ë””ë°”ìš´ì‹± ì»¤ìŠ¤í…€ í›… í˜¸ì¶œ ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.

```ts
// src/__tests__/inputTodo.test.tsx

test('input ì…ë ¥ ì‹œ ì…ë ¥ê°’ìœ¼ë¡œ ë””ë°”ìš´ì‹± ì‹¤í–‰ë¨', () => {
  const inputText = screen.getByTestId('input-text');
  const INPUT = 'lorem';

  userEvent.type(inputText, INPUT);

  expect(useDebounce).toHaveBeenCalledWith(INPUT);
});
```

#### Dropdown ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

- API í˜¸ì¶œì„ í†µí•´ ë°›ì•„ì˜¤ëŠ” ì¶”ì²œ ê²€ìƒ‰ì–´ ë°°ì—´ê³¼ ì‹¤ì œ ë Œë”ë§ë˜ëŠ” ë“œë¡­ë‹¤ìš´ ë¦¬ìŠ¤íŠ¸ì˜ ì¼ì¹˜ ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.

```ts
// src/__tests__/dropdown.test.tsx

expect(dropdownItems.length).toBe(DropdownProps.recommendList.length);
```

- ëª¨ë“  ì¶”ì²œ ê²€ìƒ‰ì–´ ë¦¬ìŠ¤íŠ¸ ì¤‘ `input` ì…ë ¥ê°’ê³¼ ì¼ì¹˜í•˜ëŠ” ëª¨ë“  ë¬¸ìì—´ì˜ ê¸€ììƒ‰ ê°•ì¡° ìŠ¤íƒ€ì¼ë§ ì ìš© ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.

```ts
// src/__tests__/dropdown.test.tsx

test('ëª¨ë“  ì¶”ì²œ ê²€ìƒ‰ì–´ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì…ë ¥ê°’ê³¼ ì¼ì¹˜í•˜ëŠ” ë¬¸ìì—´ì€ ê¸€ììƒ‰ ê°•ì¡° ìŠ¤íƒ€ì¼ë§ ì ìš©', () => {
  const keywords = screen.getAllByText(DropdownProps.keyword);
  const accentTexts = screen.getAllByTestId('accent-text');

  expect(keywords).toMatchObject(accentTexts);
});
```
